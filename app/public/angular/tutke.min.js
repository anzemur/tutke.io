!function(){angular.module("tutke",["ngRoute"]).config(["$routeProvider","$locationProvider",function(t,n){t.when("/",{templateUrl:"index/index.component.html",controller:"indexCtrl",controllerAs:"vm"}).when("/login",{templateUrl:"authentication/log-in/log-in.component.html",controller:"loginInCtrl",controllerAs:"vm"}).otherwise({redirecTo:"/"}),n.html5Mode(!0)}])}(),angular.module("tutke").directive("foot",function(){return{restrict:"EA",templateUrl:"/shared/directives/foot/foot.component.html"}}),angular.module("tutke").directive("navigation",function(){return{restrict:"EA",templateUrl:"/shared/directives/navigation/navigation.component.html"}}),function(){function t(t,n){var e=function(n){t.localStorage.jwt=n},o=function(){return t.localStorage.jwt},r=function(){var n=o();return!!n&&JSON.parse(t.atob(n.split(".")[1])).exDate>Date.now()/1e3};return{saveToken:e,getToken:o,doRegister:function(t){return n.post("/api/register",t).then(function(t){e(t.data.token)})},doLogIn:function(t){return n.post("/api/login",t).then(function(t){e(t.data.token)})},doLogOut:function(){t.localStorage.removeItem("token")},isLoggedIn:r,getCurrentUser:function(){if(r()){var e=o(),a=JSON.parse(t.atob(e.split(".")[1]));return n.get("/api/users/"+a._id,{params:{populate:!0}})}}}}t.$inject=["$window","$http"],angular.module("tutke").service("authentication",t)}(),(()=>{function t(t,n){var e=this;e.isLoggedIn=n.isLoggedIn(),n.getCurrentUser().then(function(t){e.user=t.data},function(t){e.isLoggedIn=!1,n.doLogOut(),console.log(t.e)})}t.$inject=["$location","authentication"],angular.module("tutke").controller("indexCtrl",t)})(),function(){function t(t,n){var e=this;e.logInData={username:"",password:""},e.logInError="",e.indexPage=t.search().page||"/",e.checkLogInData=function(){if(e.logInError="",!e.logInData.username||!e.logInData.password)return e.logInError="Please enter username and password then try again.",!1;e.doLogIn()},e.doLogIn=function(){e.logInError="",n.doLogIn(e.logInData).then(function(n){t.search("page",null),t.path(e.indexPage)},function(t){e.logInError=t.data.message})}}t.$inject=["$location","authentication"],angular.module("tutke").controller("loginInCtrl",t)}(),angular.module("tutke").filter("getFilteredRequests",function(){return function(t){return t.filter(t=>"pending"==t.status&&"studentRequest"==t.requestType)}});
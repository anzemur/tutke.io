angular.module("tutke",["ngRoute"]).config(["$routeProvider","$locationProvider",function(t,e){t.when("/",{templateUrl:"index/index.component.html"}).when("/login",{templateUrl:"authentication/log-in/log-in.component.html",controller:"loginInCtrl",controllerAs:"vm"}).otherwise({redirecTo:"/"}),e.html5Mode(!0)}]),angular.module("tutke").directive("foot",function(){return{restrict:"EA",templateUrl:"/shared/directives/foot/foot.component.html"}}),angular.module("tutke").directive("navigation",function(){return{restrict:"EA",templateUrl:"/shared/directives/navigation/navigation.component.html"}}),function(){function t(n,o){var e=function(t){n.localStorage.jwt=t},r=function(){return n.localStorage.jwt},i=function(){var t=r();return!!t&&JSON.parse(n.atob(t.split(".")[1])).exDate>Date.now()/1e3};return{saveToken:e,getToken:r,doRegister:function(t){return o.post("/api/register",t).then(function(t){e(t.data.token)})},doLogIn:function(t){return o.post("/api/login",t).then(function(t){e(t.data.token)})},doLogOut:function(){n.localStorage.removeItem("token")},isLoggedIn:i,getCurrentUser:function(){if(i()){var t=r(),e=JSON.parse(n.atob(t.split(".")[1]));return o({url:"/users/"+e._id,method:"GET",params:{populate:!0}}).then(function(t){return t})}}}}t.$inject=["$window"],angular.module("tutke").service("authentication",t)}();